{"version":3,"file":"static/chunks/pages/workspace/[workspaceId]/all-a5b3ad8d41f1ff9c.js","mappings":"sFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,+BACA,WACA,OAAeC,EAAQ,MACvB,EACA,iNCUA,IAAMC,EAA8B,IAAM,CACxC,IAAMC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,IACTC,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,IACV,CAAEC,WAAAA,CAAAA,CAAY,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,EAAgBL,GACjC,CAACM,EAAiB,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IACrBC,EAAIC,CAAAA,EAAAA,EAAAA,CAAAA,IACJC,EAAcC,CAAAA,EAAAA,EAAAA,WAAAA,EAClB,CAACC,EAAgBC,IAAqB,CACpCC,CAAAA,EAAAA,EAAAA,EAAAA,EAAaR,GACTO,EACFlB,OAAOoB,IAAI,CAAC,cAAsCH,MAAAA,CAAxBN,MAAAA,EAAAA,KAAAA,EAAAA,EAAkBU,EAAE,CAAC,KAAUC,MAAA,CAAPL,GAAU,UAE5DR,EAAWE,EAAiBU,EAAE,CAAEJ,GAAQM,KAAK,CAACC,QAAQC,KAAK,CAE/D,EACA,CAACd,EAAkBF,EAAW,EAEhC,GAAI,CAACJ,EAAOqB,OAAO,CACjB,MAAO,GAAAC,EAAAC,EAAA,EAACC,EAAAA,EAAWA,CAAAA,CAAAA,EACpB,CACD,GAAI,iBAAOxB,EAAOyB,KAAK,CAACC,WAAW,CACjC,MAAM,IAAIC,EAAAA,EAAeA,CAAC,cAAe3B,EAAOyB,KAAK,CAACC,WAAW,CAAE,CAGrE,GAAM,CAAEE,SAAAA,CAAAA,CAAUC,OAAAA,CAAAA,CAAQ,CAAGC,CAAAA,EAAAA,EAAAA,YAAAA,EAAaxB,EAAiByB,OAAO,EAClE,MACE,GAAAT,EAAAU,EAAA,EAAAV,EAAAW,EAAA,YACE,GAAAX,EAAAC,EAAA,EAACW,IAAIA,UACH,GAAAZ,EAAAU,EAAA,EAACG,QAAAA,WAAO3B,CAAC,CAAC,YAAY,GAAG,iBAE3B,GAAAc,EAAAC,EAAA,EAACM,EAAAA,CACCvB,iBAAkBA,EAClB8B,aAAc,CACZC,QAASC,EAAAA,EAAAA,CAAAA,GAAoB,IAGjC,GAAAhB,EAAAC,EAAA,EAACK,EAAAA,CACCW,KAAMrC,EAAQsC,WAAW,CACzBC,WAAY/B,EACZgC,oBAAqBpC,EAAiBoC,mBAAmB,KAIjE,CAEAC,CAAAA,EAAA,QAAe5C,EAEfA,EAAQ6C,SAAS,CAAGC,GACX,GAAAvB,EAAAC,EAAA,EAACuB,EAAAA,EAAeA,CAAAA,UAAED","sources":["webpack://_N_E/?be14","webpack://_N_E/./src/pages/workspace/[workspaceId]/all.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/workspace/[workspaceId]/all\",\n      function () {\n        return require(\"private-next-pages/workspace/[workspaceId]/all.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/workspace/[workspaceId]/all\"])\n      });\n    }\n  ","import { useAllPageSetting } from '@affine/component/page-list';\nimport { QueryParamError } from '@affine/env/constant';\nimport { WorkspaceSubPath } from '@affine/env/workspace';\nimport { useAFFiNEI18N } from '@affine/i18n/hooks';\nimport { assertExists } from '@blocksuite/store';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport React, { useCallback } from 'react';\n\nimport { getUIAdapter } from '../../../adapters/workspace';\nimport { PageLoading } from '../../../components/pure/loading';\nimport { useCurrentWorkspace } from '../../../hooks/current/use-current-workspace';\nimport { useRouterHelper } from '../../../hooks/use-router-helper';\nimport { WorkspaceLayout } from '../../../layouts/workspace-layout';\nimport type { NextPageWithLayout } from '../../../shared';\n\nconst AllPage: NextPageWithLayout = () => {\n  const router = useRouter();\n  const setting = useAllPageSetting();\n  const { jumpToPage } = useRouterHelper(router);\n  const [currentWorkspace] = useCurrentWorkspace();\n  const t = useAFFiNEI18N();\n  const onClickPage = useCallback(\n    (pageId: string, newTab?: boolean) => {\n      assertExists(currentWorkspace);\n      if (newTab) {\n        window.open(`/workspace/${currentWorkspace?.id}/${pageId}`, '_blank');\n      } else {\n        jumpToPage(currentWorkspace.id, pageId).catch(console.error);\n      }\n    },\n    [currentWorkspace, jumpToPage]\n  );\n  if (!router.isReady) {\n    return <PageLoading />;\n  }\n  if (typeof router.query.workspaceId !== 'string') {\n    throw new QueryParamError('workspaceId', router.query.workspaceId);\n  }\n\n  const { PageList, Header } = getUIAdapter(currentWorkspace.flavour);\n  return (\n    <>\n      <Head>\n        <title>{t['All pages']()} - AFFiNE</title>\n      </Head>\n      <Header\n        currentWorkspace={currentWorkspace}\n        currentEntry={{\n          subPath: WorkspaceSubPath.ALL,\n        }}\n      />\n      <PageList\n        view={setting.currentView}\n        onOpenPage={onClickPage}\n        blockSuiteWorkspace={currentWorkspace.blockSuiteWorkspace}\n      />\n    </>\n  );\n};\n\nexport default AllPage;\n\nAllPage.getLayout = page => {\n  return <WorkspaceLayout>{page}</WorkspaceLayout>;\n};\n"],"names":["window","__NEXT_P","push","__webpack_require__","AllPage","router","useRouter","setting","useAllPageSetting","jumpToPage","useRouterHelper","currentWorkspace","useCurrentWorkspace","t","useAFFiNEI18N","onClickPage","useCallback","pageId","newTab","assertExists","open","id","concat","catch","console","error","isReady","_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__","tZ","PageLoading","query","workspaceId","QueryParamError","PageList","Header","getUIAdapter","flavour","BX","HY","Head","title","currentEntry","subPath","WorkspaceSubPath","view","currentView","onOpenPage","blockSuiteWorkspace","__webpack_exports__","getLayout","page","WorkspaceLayout"],"sourceRoot":""}